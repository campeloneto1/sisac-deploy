import{a as N}from"./chunk-2C7OWQ63.js";import{a as A}from"./chunk-ZTDIW4XP.js";import{b as k}from"./chunk-4366GPH2.js";import{a as D,d as j}from"./chunk-HDKAZCIU.js";import{Cb as F,Fa as c,I as E,Oa as e,Pa as _,Qa as r,Ra as C,Sa as S,Xa as M,Ya as O,_ as h,ca as a,cb as m,da as f,eb as p,la as u,mb as T,na as b,ra as $,rb as w,sa as v,sb as B,ta as I,ua as y,va as P,wa as n,xa as i,ya as o}from"./chunk-OWJSVT4P.js";function H(d,l){if(d&1&&(n(0,"div",3),o(1,"img",4)(2,"br"),n(3,"h4"),e(4),i()()),d&2){let t=c();a(4),S(" Contrato N\xBA ",t.data$.id," - ",t.data$.subunidade.abreviatura,"/",t.data$.subunidade.unidade.abreviatura," ")}}function q(d,l){if(d&1&&(e(0),m(1,"mask")),d&2){let t=c(3);r(" ",p(1,1,t.subunidade.cep,"00.000-00")," ")}}function U(d,l){if(d&1&&(e(0),m(1,"mask")),d&2){let t=c(3);r(" Fones: ",p(1,1,t.subunidade.telefone,"(00) 0000-0000")," ")}}function z(d,l){if(d&1&&e(0),d&2){let t=c(3);C(" ",t.user.policial.graduacao.abreviatura," ",t.user.policial.nome_guerra," ")}}function L(d,l){if(d&1&&e(0),d&2){let t=c(3);r(" ",t.user.nome," ")}}function V(d,l){if(d&1&&(n(0,"div",8),o(1,"div",9),n(2,"div",10)(3,"p"),e(4),o(5,"br"),e(6),u(7,q,2,4),e(8),o(9,"br"),u(10,U,2,4),e(11),o(12,"br"),n(13,"b"),e(14,"\u201CRa\xE7a de Fortes, Povo de Bravos\u201D"),i()()(),n(15,"div",11)(16,"p")(17,"b"),e(18,"Usu\xE1rio:"),i(),u(19,z,1,2)(20,L,1,1),o(21,"br"),n(22,"b"),e(23,"Data:"),i(),e(24),m(25,"date"),i()()()),d&2){let t=c(2);a(4),C(" ",t.subunidade.nome," \u2013 ",t.subunidade.unidade.nome,""),a(2),S(" ",t.subunidade.rua,", ",t.subunidade.numero," - ",t.subunidade.bairro," | CEP: "),a(),v(7,t.subunidade.cep?7:-1),a(),C(" ",t.subunidade.cidade==null?null:t.subunidade.cidade.nome," / ",t.subunidade.cidade==null||t.subunidade.cidade.estado==null?null:t.subunidade.cidade.estado.abreviatura," "),a(2),v(10,t.subunidade.telefone?10:-1),a(),r(" | E-mail: ",t.subunidade.email,""),a(8),v(19,t.user.policial?19:20),a(5),r(" ",p(25,12,t.datahj,"dd/MM/yyyy HH:mm")," ")}}function G(d,l){if(d&1&&(n(0,"div",5),u(1,V,26,15,"div",6),o(2,"img",7),i()),d&2){let t=c();a(),b("ngIf",t.user)}}function J(d,l){if(d&1&&(n(0,"b"),e(1,"Telefone 1:"),i(),e(2),m(3,"mask"),o(4,"br")),d&2){let t=c(2);a(2),r(" ",p(3,1,t.data$.empresa.telefone1,"(00) 00000-0000"),"")}}function Q(d,l){if(d&1&&(n(0,"b"),e(1,"E-mail:"),i(),e(2),o(3,"br")),d&2){let t=c(2);a(2),r(" ",t.data$.empresa.email,"")}}function K(d,l){if(d&1&&e(0),d&2){let t=c(2);_(t.data$.gestor.numeral)}}function W(d,l){if(d&1&&e(0),d&2){let t=c(2);_(t.data$.fiscal.numeral)}}function X(d,l){if(d&1&&(n(0,"div",26)(1,"div",23)(2,"h5",24),e(3),i(),n(4,"span",25),e(5,"Porcent. de aditivo"),i()()(),n(6,"div",26)(7,"div",23)(8,"h5",24),e(9),m(10,"date"),i(),n(11,"span",25),e(12,"Data do aditivo"),i()()()),d&2){let t=c(2);a(3),r("",t.data$.porcentagem_aditivado,"%"),a(6),_(p(10,2,t.data$.data_aditivado,"dd/MM/yyyy"))}}function Y(d,l){if(d&1&&(n(0,"div",21)(1,"div",34)(2,"div",23)(3,"h5",24),e(4),i(),n(5,"span",25),e(6,"Quantidade di\xE1rias"),i()()(),n(7,"div",34)(8,"div",23)(9,"h5",24),e(10),i(),n(11,"span",25),e(12,"Di\xE1rias usadas"),i()()(),n(13,"div",34)(14,"div",23)(15,"h5",24),e(16),i(),n(17,"span",25),e(18,"Saldo di\xE1rias"),i()()()()),d&2){let t=c(2);a(4),_(t.data$.quantidade_diarias),a(6),_(t.quantidadeDiariasUtilizadas()),a(6),_(t.getSaldoDiarias())}}function Z(d,l){if(d&1&&(n(0,"tr")(1,"td"),e(2),i(),n(3,"td"),e(4),m(5,"date"),i(),n(6,"td"),e(7),m(8,"mask"),i()()),d&2){let t=l.$implicit;a(2),_(t.id),a(2),_(p(5,3,t.mes_referencia,"MM/yyyy")),a(3),r("R$ ",p(8,6,t.valor,"separator.2"),"")}}function tt(d,l){if(d&1&&(n(0,"div",27)(1,"h3"),e(2,"Observa\xE7\xF5es:"),i(),o(3,"div",35),i()),d&2){let t=c(2);a(3),b("innerHtml",t.data$.observacoes,h)}}function et(d,l){if(d&1&&(n(0,"div",27)(1,"h3"),e(2,"Observa\xE7\xF5es Aditivo:"),i(),o(3,"div",35),i()),d&2){let t=c(2);a(3),b("innerHtml",t.data$.observacoes_aditivado,h)}}function it(d,l){if(d&1&&(n(0,"table",12)(1,"thead",13)(2,"tr")(3,"td"),o(4,"div",14),i()()(),n(5,"tbody")(6,"tr")(7,"td")(8,"div",15)(9,"div",16),o(10,"img",4),n(11,"h4",17),e(12),i()(),n(13,"h5",17),e(14),m(15,"date"),i(),n(16,"div",18)(17,"div",19)(18,"b"),e(19,"Empresa:"),i(),e(20),o(21,"br"),n(22,"b"),e(23,"CNPJ:"),i(),e(24),m(25,"mask"),o(26,"br"),u(27,J,5,4)(28,Q,4,1),o(29,"br"),n(30,"b"),e(31,"Gestor:"),i(),e(32),u(33,K,1,1),e(34),o(35,"br"),n(36,"b"),e(37,"Fiscal:"),i(),e(38),u(39,W,1,1),e(40),o(41,"br"),i(),n(42,"div",19)(43,"b"),e(44,"Objeto do contrato:"),i(),e(45),o(46,"br"),n(47,"b"),e(48,"Objeto do tipo:"),i(),e(49),o(50,"br"),n(51,"b"),e(52,"N\xFAmero do contrato: "),i(),e(53),o(54,"br"),n(55,"b"),e(56,"N\xFAmero do SACC: "),i(),e(57),o(58,"br"),i()(),n(59,"div",20)(60,"h3")(61,"b"),e(62),m(63,"mask"),i()(),n(64,"h4"),e(65,"Valor Global"),i(),n(66,"h4")(67,"span"),e(68),i()()(),n(69,"div",21)(70,"div",22)(71,"div",23)(72,"h5",24),e(73),m(74,"date"),i(),n(75,"span",25),e(76,"Data Inicial"),i()()(),n(77,"div",26)(78,"div",23)(79,"h5",24),e(80),m(81,"date"),i(),n(82,"span",25),e(83,"Data Final"),i()()(),n(84,"div",26)(85,"div",23)(86,"h5",24),e(87),m(88,"mask"),i(),n(89,"span",25),e(90,"Valor Usado"),i()()(),u(91,X,13,5),i(),u(92,Y,19,3,"div",21),n(93,"div",18)(94,"div",27)(95,"table",28)(96,"thead")(97,"tr")(98,"th"),e(99,"#"),i(),n(100,"th"),e(101,"M\xCAS REFER\xCANCIA"),i(),n(102,"th"),e(103,"VALOR"),i()()(),n(104,"tbody"),y(105,Z,9,9,"tr",null,I),i(),n(107,"tfoot")(108,"tr"),o(109,"th")(110,"th"),n(111,"th"),e(112),m(113,"mask"),i()()()()()(),n(114,"div",29),u(115,tt,4,1,"div",27)(116,et,4,1,"div",27),i(),o(117,"div",30),n(118,"div",31)(119,"b"),e(120),i(),e(121),o(122,"br"),e(123),m(124,"mask"),o(125,"br"),i()()()()(),n(126,"tfoot",32)(127,"tr")(128,"td"),o(129,"div",33),i()()()()),d&2){let t=c();a(12),S(" Contrato N\xBA ",t.data$.id," - ",t.data$.subunidade.abreviatura,"/",t.data$.subunidade.unidade.abreviatura," "),a(2),r("Fortaleza - CE, ",p(15,35,t.datahj,"dd/MM/yyyy"),""),a(6),r(" ",t.data$.empresa.nome,""),a(4),r(" ",p(25,38,t.data$.empresa.cnpj,"00.000.000/0000-00"),""),a(3),v(27,t.data$.empresa.telefone1?27:-1),a(),v(28,t.data$.empresa.email?28:-1),a(4),r(" ",t.data$.gestor.graduacao.abreviatura," "),a(),v(33,t.data$.gestor.numeral?33:-1),a(),r(" ",t.data$.gestor.nome_guerra,""),a(4),r(" ",t.data$.fiscal.graduacao.abreviatura," "),a(),v(39,t.data$.fiscal.numeral?39:-1),a(),r(" ",t.data$.fiscal.nome_guerra,""),a(5),r(" ",t.data$.contrato_objeto.nome,""),a(4),r(" ",t.data$.contrato_tipo.nome,""),a(4),r(" ",t.data$.numero_contrato,""),a(4),r(" ",t.data$.numero_sacc,""),a(5),r("R$ ",p(63,41,t.data$.valor_global,"separator.2"),""),a(5),$("badge ",t.returnCorUsado(),""),a(),r("",t.returnPercentUsado(),"%"),a(5),_(p(74,44,t.data$.data_inicial,"dd/MM/yyyy")),a(7),_(p(81,47,t.data$.data_final,"dd/MM/yyyy")),a(7),r("R$ ",p(88,50,t.data$.valor_usado,"separator.2"),""),a(4),v(91,t.data$.porcentagem_aditivado?91:-1),a(),v(92,t.data$.contrato_tipo.diarias&&t.data$.quantidade_diarias?92:-1),a(13),P(t.data$.contratos_lancamentos),a(7),r("R$ ",p(113,53,t.returnSumLancamentos(),"separator.2"),""),a(3),v(115,t.data$.observacoes?115:-1),a(),v(116,t.data$.observacoes_aditivado?116:-1),a(),b("innerHTML",t.data$.observacoes,h),a(3),_(t.data$.gestor.nome),a(),r(" - ",t.data$.gestor.graduacao.abreviatura,""),a(2),r(" Mat.: ",p(124,56,t.data$.gestor.matricula,"000.000-0-A"),"")}}var pt=(()=>{let l=class l{constructor(s,x,g,R){this.contratosService=s,this.activatedRoute=x,this.sessionService=g,this.subunidadesService=R}ngOnInit(){this.datahj=new Date,this.user=this.sessionService.getUser(),this.id=this.activatedRoute.snapshot.params.id,this.subscription=this.contratosService.find(this.id).subscribe({next:s=>{this.data$=s}}),this.subscription2=this.subunidadesService.find(this.user.subunidade.id||0).subscribe({next:s=>{this.subunidade=s}})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.subscription2&&this.subscription2.unsubscribe()}returnPercentUsado(){var s=this.data$.valor_usado*100/this.data$.valor_global;return s.toFixed(2)}returnCorUsado(){var s=this.data$.valor_usado*100/this.data$.valor_global,x="";return s<50?x="bg-success":s<70?x="bg-warning":x="bg-danger",x}returnSumLancamentos(){var s=0;return this.data$.contratos_lancamentos.forEach(x=>{s=Number(s)+Number(x.valor)}),s.toFixed(2)}quantidadeDiariasUtilizadas(){var s=0;return this.data$.quantidade_diarias&&(s=this.data$.quantidade_diarias*this.data$.valor_usado/this.data$.valor_global),s.toFixed(2)}getSaldoDiarias(){if(this.data$.quantidade_diarias){var s=this.data$.quantidade_diarias-this.data$.valor_usado*this.data$.quantidade_diarias/this.data$.valor_global;return s.toFixed(2)}else return null}};l.\u0275fac=function(x){return new(x||l)(f(N),f(F),f(k),f(A))},l.\u0275cmp=E({type:l,selectors:[["app-contrato-print"]],standalone:!0,features:[M([D()]),O],decls:3,vars:3,consts:[["class","page-header","style","text-align: center; ",4,"ngIf"],["class","page-footer",4,"ngIf"],["style","width: 100%; min-width: 100%",4,"ngIf"],[1,"page-header",2,"text-align","center"],["src","assets/cabecalho2.png",1,"cabecalho"],[1,"page-footer"],["class","row rodape2",4,"ngIf"],["src","assets/rodape.png",1,"rodape"],[1,"row","rodape2"],[1,"col-sm-3","text-center"],[1,"col-sm-6","text-center"],[1,"col-sm-3"],[2,"width","100%","min-width","100%"],[1,"thead"],[1,"page-header-space"],[1,"page"],[1,"noprint","text-center"],[2,"margin-top","20px"],[1,"row",2,"margin-top","20px"],[1,"col-sm-6"],[1,"row","text-center","mt-2"],[1,"row","mt-2"],[1,"col-sm-2","offset-sm-1"],[1,"description-block","border-right"],[1,"description-header"],[1,"description-text"],[1,"col-sm-2"],[1,"col-sm-12"],[1,"table","table-hover","table-head-fixed","text-nowrap"],[1,"row","text-justify"],[2,"margin-top","30px",3,"innerHTML"],[1,"text-center",2,"margin-top","60px"],[1,"tfoot"],[1,"page-footer-space"],[1,"col-sm-4"],[3,"innerHtml"]],template:function(x,g){x&1&&u(0,H,5,3,"div",0)(1,G,3,1,"div",1)(2,it,130,59,"table",2),x&2&&(b("ngIf",g.data$),a(),b("ngIf",g.data$),a(),b("ngIf",g.data$))},dependencies:[B,T,w,j],styles:[".page-header[_ngcontent-%COMP%], .page-header-space[_ngcontent-%COMP%], .page-footer[_ngcontent-%COMP%], .page-footer-space[_ngcontent-%COMP%]{height:200px;display:none}.page-footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%}.page-header[_ngcontent-%COMP%]{position:fixed;top:0;width:100%}.cabecalho[_ngcontent-%COMP%]{margin-top:10px;width:50%;height:35mm}.rodape[_ngcontent-%COMP%]{width:100%;height:20mm}.rodape2[_ngcontent-%COMP%]{position:relative;top:40px}.page[_ngcontent-%COMP%]{page-break-after:always;padding:0 10mm 0 20mm;text-align:justify}@page{margin:0;-webkit-print-color-adjust:exact}@media print{.thead[_ngcontent-%COMP%]{display:table-header-group}.tfoot[_ngcontent-%COMP%]{display:table-footer-group}body[_ngcontent-%COMP%]{margin:0}.noprint[_ngcontent-%COMP%]{display:none}.page-header[_ngcontent-%COMP%], .page-header-space[_ngcontent-%COMP%], .page-footer[_ngcontent-%COMP%], .page-footer-space[_ngcontent-%COMP%]{height:200px;display:block}}"]});let d=l;return d})();export{pt as ContratoPrint};
