import{a as K}from"./chunk-MK3DNY6O.js";import{a as Q}from"./chunk-HXQBKJLI.js";import{a as U}from"./chunk-I3SZ5FME.js";import"./chunk-HYOWEGV7.js";import{a as J}from"./chunk-3HEW5RTP.js";import{a as A,b as z}from"./chunk-4366GPH2.js";import"./chunk-HDKAZCIU.js";import{$b as L,C as b,Ea as g,F as h,Fa as F,I as S,Mb as N,Oa as i,Pa as d,Qb as w,Ra as P,Rb as B,Tb as O,Vb as G,Wb as H,Ya as T,_ as x,_b as q,ac as V,ca as o,cb as f,da as p,db as k,eb as $,la as y,na as c,pb as M,rb as R,sa as E,sb as j,ta as C,ua as _,va as I,vb as D,wa as e,xa as t,ya as u}from"./chunk-OWJSVT4P.js";var Z=A.url,ee="patrimonios",W=(()=>{let n=class n{constructor(l){this.http=l}relatorio(l){return this.http.post(`${Z}/${ee}/relatorio`,l)}};n.\u0275fac=function(s){return new(s||n)(h(D))},n.\u0275prov=b({token:n,factory:n.\u0275fac,providedIn:"root"});let r=n;return r})();function ie(r,n){if(r&1&&(e(0,"tr",18)(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td"),i(6),t(),e(7,"td"),i(8),t(),e(9,"td"),i(10),t(),e(11,"td"),i(12),t(),e(13,"td"),i(14),f(15,"date"),t()(),e(16,"tr",19)(17,"td",20),u(18,"div",21),t()()),r&2){let a=n.$implicit;o(2),d(a.id),o(2),P("",a.setor.nome," - ",a.setor.subunidade.abreviatura,""),o(2),d(a.patrimonio_tipo.nome),o(2),d(a.nome),o(2),d(a.serial),o(2),d(a.tombo),o(2),d($(15,9,a.data_baixa,"dd/MM/yyyy")),o(4),c("innerHTML",a.observacoes,x)}}function ne(r,n){if(r&1&&(e(0,"table",17)(1,"thead")(2,"tr")(3,"th"),i(4,"#"),t(),e(5,"th"),i(6,"Setor"),t(),e(7,"th"),i(8,"Tipo"),t(),e(9,"th"),i(10,"Descri\xE7\xE3o"),t(),e(11,"th"),i(12,"Serial"),t(),e(13,"th"),i(14,"Tombo"),t(),e(15,"th"),i(16,"Data Baixa"),t()()(),e(17,"tbody"),_(18,ie,19,12,null,null,C),f(20,"async"),t()()),r&2){let a=F();o(18),I(k(20,0,a.data$))}}var he=(()=>{let n=class n{constructor(l,s,m,v,X){this.formBuilder=l,this.setoresService=s,this.patrimoniosTiposService=m,this.patrimoniosRelService=v,this.sessionService=X}ngOnInit(){this.sessionService.checkPermission("relatorios"),this.form=this.formBuilder.group({setor:[null],patrimonio_tipo:[null],data_baixa:[null],subunidade:[null]}),this.setores$=this.setoresService.index(),this.patrimoniostipos$=this.patrimoniosTiposService.index()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}pesquisar(){this.sessionService.getSubunidade()&&this.form.get("subunidade")?.patchValue(this.sessionService.getSubunidade()),this.data$=this.patrimoniosRelService.relatorio(this.form.value)}};n.\u0275fac=function(s){return new(s||n)(p(q),p(Q),p(K),p(W),p(z))},n.\u0275cmp=S({type:n,selectors:[["app-patrimonios-rel"]],standalone:!0,features:[T],decls:23,vars:5,consts:[[1,"content-wrapper"],["titulo","Relat\xF3rio de Patrim\xF4nios"],[1,"content"],[1,"card"],[1,"card-header","border-0"],[1,"card-title","noprint"],[1,"card-title","print"],[1,"card-body","table-responsive"],[1,"noprint",3,"formGroup"],[1,"row"],["label","Setor","id","setor","formControlName","setor",1,"col-sm-3",3,"data$"],["label","Tipo de Patrim\xF4nio","id","patrimonio_tipo","formControlName","patrimonio_tipo",1,"col-sm-2",3,"data$"],[1,"col-sm-2"],[1,"form-check"],["type","checkbox","checked","","id","data_baixa","formControlName","data_baixa",1,"form-check-input"],["for","data_baixa",1,"form-check-label"],["type","button",1,"btn","btn-primary","btn-block",3,"click","disabled"],[1,"table","table-hover","table-head-fixed","text-wrap"],["data-widget","expandable-table","aria-expanded","false"],[1,"expandable-body","d-none"],["colspan","11"],[2,"display","none",3,"innerHTML"]],template:function(s,m){s&1&&(e(0,"div",0),u(1,"app-title",1),e(2,"section",2)(3,"div",3)(4,"div",4)(5,"h3",5),i(6,"Filtro"),t(),e(7,"h3",6),i(8,"Relat\xF3rio de Patrim\xF4nios"),t()(),e(9,"div",7)(10,"form",8)(11,"div",9),u(12,"input-select",10)(13,"input-select",11),e(14,"div",12)(15,"div",13),u(16,"input",14),e(17,"label",15),i(18,"Data baixa"),t()()()(),e(19,"div")(20,"button",16),g("click",function(){return m.pesquisar()}),i(21," Pesquisar "),t()()(),y(22,ne,21,2,"table",17),t()()()()),s&2&&(o(10),c("formGroup",m.form),o(2),c("data$",m.setores$),o(),c("data$",m.patrimoniostipos$),o(7),c("disabled",m.form.invalid),o(2),E(22,m.data$?22:-1))},dependencies:[j,M,R,J,L,O,N,w,B,V,G,H,U],styles:[".print[_ngcontent-%COMP%]{display:none}@media print{.noprint[_ngcontent-%COMP%]{display:none}.print[_ngcontent-%COMP%]{display:block}}"]});let r=n;return r})();export{he as PatrimoniosRel};
