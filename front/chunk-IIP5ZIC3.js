import{a as N}from"./chunk-C7VTDCYY.js";import{a as D}from"./chunk-HMKSEIRC.js";import{b as F}from"./chunk-UKCOEVIY.js";import{a as j,d as A}from"./chunk-HDKAZCIU.js";import{Cb as k,Fa as s,I as E,Oa as t,Pa as _,Qa as r,Ra as C,Sa as S,Xa as M,Ya as O,_ as h,ca as i,cb as m,da as f,eb as p,la as u,mb as T,na as b,ra as $,rb as w,sa as v,sb as B,ta as I,ua as y,va as P,wa as d,xa as n,ya as o}from"./chunk-OWJSVT4P.js";function H(a,l){if(a&1&&(d(0,"div",3),o(1,"img",4)(2,"br"),d(3,"h4"),t(4),n()()),a&2){let e=s();i(4),S(" Contrato N\xBA ",e.data$.id," - ",e.data$.subunidade.abreviatura,"/",e.data$.subunidade.unidade.abreviatura," ")}}function U(a,l){if(a&1&&(t(0),m(1,"mask")),a&2){let e=s(3);r(" ",p(1,1,e.subunidade.cep,"00.000-00")," ")}}function q(a,l){if(a&1&&(t(0),m(1,"mask")),a&2){let e=s(3);r(" Fones: ",p(1,1,e.subunidade.telefone,"(00) 0000-0000")," ")}}function z(a,l){if(a&1&&t(0),a&2){let e=s(3);C(" ",e.user.policial.graduacao.abreviatura," ",e.user.policial.nome_guerra," ")}}function L(a,l){if(a&1&&t(0),a&2){let e=s(3);r(" ",e.user.nome," ")}}function V(a,l){if(a&1&&(d(0,"div",8),o(1,"div",9),d(2,"div",10)(3,"p"),t(4),o(5,"br"),t(6),u(7,U,2,4),t(8),o(9,"br"),u(10,q,2,4),t(11),o(12,"br"),d(13,"b"),t(14,"\u201CRa\xE7a de Fortes, Povo de Bravos\u201D"),n()()(),d(15,"div",11)(16,"p")(17,"b"),t(18,"Usu\xE1rio:"),n(),u(19,z,1,2)(20,L,1,1),o(21,"br"),d(22,"b"),t(23,"Data:"),n(),t(24),m(25,"date"),n()()()),a&2){let e=s(2);i(4),C(" ",e.subunidade.nome," \u2013 ",e.subunidade.unidade.nome,""),i(2),S(" ",e.subunidade.rua,", ",e.subunidade.numero," - ",e.subunidade.bairro," | CEP: "),i(),v(7,e.subunidade.cep?7:-1),i(),C(" ",e.subunidade.cidade==null?null:e.subunidade.cidade.nome," / ",e.subunidade.cidade==null||e.subunidade.cidade.estado==null?null:e.subunidade.cidade.estado.abreviatura," "),i(2),v(10,e.subunidade.telefone?10:-1),i(),r(" | E-mail: ",e.subunidade.email,""),i(8),v(19,e.user.policial?19:20),i(5),r(" ",p(25,12,e.datahj,"dd/MM/yyyy HH:mm")," ")}}function G(a,l){if(a&1&&(d(0,"div",5),u(1,V,26,15,"div",6),o(2,"img",7),n()),a&2){let e=s();i(),b("ngIf",e.user)}}function Q(a,l){if(a&1&&(d(0,"b"),t(1,"Telefone 1:"),n(),t(2),m(3,"mask"),o(4,"br")),a&2){let e=s(2);i(2),r(" ",p(3,1,e.data$.empresa.telefone1,"(00) 00000-0000"),"")}}function J(a,l){if(a&1&&(d(0,"b"),t(1,"E-mail:"),n(),t(2),o(3,"br")),a&2){let e=s(2);i(2),r(" ",e.data$.empresa.email,"")}}function K(a,l){if(a&1&&t(0),a&2){let e=s(2);_(e.data$.gestor.numeral)}}function W(a,l){if(a&1&&t(0),a&2){let e=s(2);_(e.data$.fiscal.numeral)}}function X(a,l){if(a&1&&(d(0,"div",11)(1,"div",22)(2,"h5",23),t(3),n(),d(4,"span",24),t(5,"Porcent. de aditivo"),n()()()),a&2){let e=s(2);i(3),r("",e.data$.porcentagem_aditivado,"%")}}function Y(a,l){if(a&1&&(d(0,"div",21)(1,"div",32)(2,"div",22)(3,"h5",23),t(4),n(),d(5,"span",24),t(6,"Quantidade di\xE1rias"),n()()(),d(7,"div",11)(8,"div",22)(9,"h5",23),t(10),n(),d(11,"span",24),t(12,"Quantidade usadas"),n()()()()),a&2){let e=s(2);i(4),_(e.data$.quantidade_diarias),i(6),_(e.quantidadeDiariasUtilizadas())}}function Z(a,l){if(a&1&&(d(0,"tr")(1,"td"),t(2),n(),d(3,"td"),t(4),m(5,"date"),n(),d(6,"td"),t(7),m(8,"mask"),n()()),a&2){let e=l.$implicit;i(2),_(e.id),i(2),_(p(5,3,e.mes_referencia,"MM/yyyy")),i(3),r("R$ ",p(8,6,e.valor,"separator.2"),"")}}function ee(a,l){if(a&1&&(d(0,"div",25)(1,"h3"),t(2,"Observa\xE7\xF5es:"),n(),o(3,"div",33),n()),a&2){let e=s(2);i(3),b("innerHtml",e.data$.observacoes,h)}}function te(a,l){if(a&1&&(d(0,"div",25)(1,"h3"),t(2,"Observa\xE7\xF5es Aditivo:"),n(),o(3,"div",33),n()),a&2){let e=s(2);i(3),b("innerHtml",e.data$.observacoes_aditivado,h)}}function ie(a,l){if(a&1&&(d(0,"table",12)(1,"thead",13)(2,"tr")(3,"td"),o(4,"div",14),n()()(),d(5,"tbody")(6,"tr")(7,"td")(8,"div",15)(9,"div",16),o(10,"img",4),d(11,"h4",17),t(12),n()(),d(13,"h5",17),t(14),m(15,"date"),n(),d(16,"div",18)(17,"div",19)(18,"b"),t(19,"Empresa:"),n(),t(20),o(21,"br"),d(22,"b"),t(23,"CNPJ:"),n(),t(24),m(25,"mask"),o(26,"br"),u(27,Q,5,4)(28,J,4,1),o(29,"br"),d(30,"b"),t(31,"Gestor:"),n(),t(32),u(33,K,1,1),t(34),o(35,"br"),d(36,"b"),t(37,"Fiscal:"),n(),t(38),u(39,W,1,1),t(40),o(41,"br"),n(),d(42,"div",19)(43,"b"),t(44,"Objeto do contrato:"),n(),t(45),o(46,"br"),d(47,"b"),t(48,"Objeto do tipo:"),n(),t(49),o(50,"br"),d(51,"b"),t(52,"N\xFAmero do contrato: "),n(),t(53),o(54,"br"),d(55,"b"),t(56,"N\xFAmero do SACC: "),n(),t(57),o(58,"br"),n()(),d(59,"div",20)(60,"h3")(61,"b"),t(62),m(63,"mask"),n()(),d(64,"h4"),t(65,"Valor Global"),n(),d(66,"h4")(67,"span"),t(68),n()()(),d(69,"div",21)(70,"div",11)(71,"div",22)(72,"h5",23),t(73),m(74,"date"),n(),d(75,"span",24),t(76,"Data Inicial"),n()()(),d(77,"div",11)(78,"div",22)(79,"h5",23),t(80),m(81,"date"),n(),d(82,"span",24),t(83,"Data Final"),n()()(),d(84,"div",11)(85,"div",22)(86,"h5",23),t(87),m(88,"mask"),n(),d(89,"span",24),t(90,"Valor Usado"),n()()(),u(91,X,6,1,"div",11),n(),u(92,Y,13,2,"div",21),d(93,"div",18)(94,"div",25)(95,"table",26)(96,"thead")(97,"tr")(98,"th"),t(99,"#"),n(),d(100,"th"),t(101,"M\xCAS REFER\xCANCIA"),n(),d(102,"th"),t(103,"VALOR"),n()()(),d(104,"tbody"),y(105,Z,9,9,"tr",null,I),n(),d(107,"tfoot")(108,"tr"),o(109,"th")(110,"th"),d(111,"th"),t(112),m(113,"mask"),n()()()()()(),d(114,"div",27),u(115,ee,4,1,"div",25)(116,te,4,1,"div",25),n(),o(117,"div",28),d(118,"div",29)(119,"b"),t(120),n(),t(121),o(122,"br"),t(123),m(124,"mask"),o(125,"br"),n()()()()(),d(126,"tfoot",30)(127,"tr")(128,"td"),o(129,"div",31),n()()()()),a&2){let e=s();i(12),S(" Contrato N\xBA ",e.data$.id," - ",e.data$.subunidade.abreviatura,"/",e.data$.subunidade.unidade.abreviatura," "),i(2),r("Fortaleza - CE, ",p(15,35,e.datahj,"dd/MM/yyyy"),""),i(6),r(" ",e.data$.empresa.nome,""),i(4),r(" ",p(25,38,e.data$.empresa.cnpj,"00.000.000/0000-00"),""),i(3),v(27,e.data$.empresa.telefone1?27:-1),i(),v(28,e.data$.empresa.email?28:-1),i(4),r(" ",e.data$.gestor.graduacao.abreviatura," "),i(),v(33,e.data$.gestor.numeral?33:-1),i(),r(" ",e.data$.gestor.nome_guerra,""),i(4),r(" ",e.data$.fiscal.graduacao.abreviatura," "),i(),v(39,e.data$.fiscal.numeral?39:-1),i(),r(" ",e.data$.fiscal.nome_guerra,""),i(5),r(" ",e.data$.contrato_objeto.nome,""),i(4),r(" ",e.data$.contrato_tipo.nome,""),i(4),r(" ",e.data$.numero_contrato,""),i(4),r(" ",e.data$.numero_sacc,""),i(5),r("R$ ",p(63,41,e.data$.valor_global,"separator.2"),""),i(5),$("badge ",e.returnCorUsado(),""),i(),r("",e.returnPercentUsado(),"%"),i(5),_(p(74,44,e.data$.data_inicial,"dd/MM/yyyy")),i(7),_(p(81,47,e.data$.data_final,"dd/MM/yyyy")),i(7),r("R$ ",p(88,50,e.data$.valor_usado,"separator.2"),""),i(4),v(91,e.data$.porcentagem_aditivado?91:-1),i(),v(92,e.data$.contrato_tipo.diarias&&e.data$.quantidade_diarias?92:-1),i(13),P(e.data$.contratos_lancamentos),i(7),r("R$ ",p(113,53,e.returnSumLancamentos(),"separator.2"),""),i(3),v(115,e.data$.observacoes?115:-1),i(),v(116,e.data$.observacoes_aditivado?116:-1),i(),b("innerHTML",e.data$.observacoes,h),i(3),_(e.data$.gestor.nome),i(),r(" - ",e.data$.gestor.graduacao.abreviatura,""),i(2),r(" Mat.: ",p(124,56,e.data$.gestor.matricula,"000.000-0-A"),"")}}var pe=(()=>{let l=class l{constructor(c,x,g,R){this.contratosService=c,this.activatedRoute=x,this.sessionService=g,this.subunidadesService=R}ngOnInit(){this.datahj=new Date,this.user=this.sessionService.getUser(),this.id=this.activatedRoute.snapshot.params.id,this.subscription=this.contratosService.find(this.id).subscribe({next:c=>{this.data$=c}}),this.subscription2=this.subunidadesService.find(this.user.subunidade.id||0).subscribe({next:c=>{this.subunidade=c}})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.subscription2&&this.subscription2.unsubscribe()}returnPercentUsado(){var c=this.data$.valor_usado*100/this.data$.valor_global;return c.toFixed(2)}returnCorUsado(){var c=this.data$.valor_usado*100/this.data$.valor_global,x="";return c<50?x="bg-success":c<70?x="bg-warning":x="bg-danger",x}returnSumLancamentos(){var c=0;return this.data$.contratos_lancamentos.forEach(x=>{c=Number(c)+Number(x.valor)}),c.toFixed(2)}quantidadeDiariasUtilizadas(){var c=0;return this.data$.quantidade_diarias&&(c=this.data$.quantidade_diarias*this.data$.valor_usado/this.data$.valor_global),c.toFixed(2)}};l.\u0275fac=function(x){return new(x||l)(f(N),f(k),f(F),f(D))},l.\u0275cmp=E({type:l,selectors:[["app-contrato-print"]],standalone:!0,features:[M([j()]),O],decls:3,vars:3,consts:[["class","page-header","style","text-align: center; ",4,"ngIf"],["class","page-footer",4,"ngIf"],["style","width: 100%; min-width: 100%",4,"ngIf"],[1,"page-header",2,"text-align","center"],["src","assets/cabecalho.png",1,"cabecalho"],[1,"page-footer"],["class","row rodape2",4,"ngIf"],["src","assets/rodape.png",1,"rodape"],[1,"row","rodape2"],[1,"col-sm-3","text-center"],[1,"col-sm-6","text-center"],[1,"col-sm-3"],[2,"width","100%","min-width","100%"],[1,"thead"],[1,"page-header-space"],[1,"page"],[1,"noprint","text-center"],[2,"margin-top","20px"],[1,"row",2,"margin-top","20px"],[1,"col-sm-6"],[1,"row","text-center","mt-2"],[1,"row","mt-2"],[1,"description-block","border-right"],[1,"description-header"],[1,"description-text"],[1,"col-sm-12"],[1,"table","table-hover","table-head-fixed","text-nowrap"],[1,"row","text-justify"],[2,"margin-top","30px",3,"innerHTML"],[1,"text-center",2,"margin-top","60px"],[1,"tfoot"],[1,"page-footer-space"],[1,"col-sm-3","offset-sm-3"],[3,"innerHtml"]],template:function(x,g){x&1&&u(0,H,5,3,"div",0)(1,G,3,1,"div",1)(2,ie,130,59,"table",2),x&2&&(b("ngIf",g.data$),i(),b("ngIf",g.data$),i(),b("ngIf",g.data$))},dependencies:[B,T,w,A],styles:[".page-header[_ngcontent-%COMP%], .page-header-space[_ngcontent-%COMP%], .page-footer[_ngcontent-%COMP%], .page-footer-space[_ngcontent-%COMP%]{height:200px;display:none}.page-footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%}.page-header[_ngcontent-%COMP%]{position:fixed;top:0;width:100%}.cabecalho[_ngcontent-%COMP%]{width:100%;height:35mm}.rodape[_ngcontent-%COMP%]{width:100%;height:20mm}.rodape2[_ngcontent-%COMP%]{position:relative;top:40px}.page[_ngcontent-%COMP%]{page-break-after:always;padding:0 10mm 0 20mm;text-align:justify}@page{margin:0;-webkit-print-color-adjust:exact}@media print{.thead[_ngcontent-%COMP%]{display:table-header-group}.tfoot[_ngcontent-%COMP%]{display:table-footer-group}body[_ngcontent-%COMP%]{margin:0}.noprint[_ngcontent-%COMP%]{display:none}.page-header[_ngcontent-%COMP%], .page-header-space[_ngcontent-%COMP%], .page-footer[_ngcontent-%COMP%], .page-footer-space[_ngcontent-%COMP%]{height:200px;display:block}}"]});let a=l;return a})();export{pe as ContratoPrint};
