import{a as F}from"./chunk-ESYE6LP4.js";import{h as V}from"./chunk-NFMIVN66.js";import{a as re,b as ae,c as se,d as le}from"./chunk-AICVXWQ6.js";import{a as oe}from"./chunk-HYOWEGV7.js";import{a as ne}from"./chunk-3HEW5RTP.js";import{b as ie}from"./chunk-UKCOEVIY.js";import"./chunk-HDKAZCIU.js";import{$b as M,Ca as E,Ea as p,Fa as b,I as g,Ka as W,La as $,Ma as z,Mb as Q,Na as G,Nb as R,O as u,Oa as o,P as f,Pa as T,Pb as S,Qb as k,Rb as A,Sb as H,Tb as J,Ua as q,Va as N,Vb as K,W as O,Wa as I,Wb as U,Xb as X,Ya as y,Yb as Y,Zb as Z,_b as ee,ac as te,ca as l,da as h,la as C,na as x,sa as v,sb as w,ta as B,ua as L,va as P,wa as e,xa as t,ya as d}from"./chunk-OWJSVT4P.js";var j=(()=>{let s=class s{constructor(i,a,n){this.formBuilder=i,this.contratosTiposService=a,this.toastr=n,this.refresh=new O}ngOnInit(){this.form=this.formBuilder.group({id:[null],nome:[null,S.compose([S.required,S.minLength(3),S.maxLength(100)])],diarias:[null],servico:[null],fatura:[null]})}cadastrar(){this.form.value.id?this.contratosTiposService.update(this.form.value.id,this.form.value).subscribe({next:i=>{this.toastr.success("Edi\xE7\xE3o realizada com sucesso!"),this.form.reset(),this.refresh.emit()},error:i=>{this.toastr.error("Erro ao cadastrar, tente novamente mais tarde!")}}):this.contratosTiposService.create(this.form.value).subscribe({next:i=>{this.toastr.success("Cadastro realizado com sucesso!"),this.form.reset(),this.refresh.emit()},error:i=>{this.toastr.error("Erro ao cadastrar, tente novamente mais tarde!")}})}editar(i){this.form.patchValue(i)}};s.\u0275fac=function(a){return new(a||s)(h(ee),h(F),h(V))},s.\u0275cmp=g({type:s,selectors:[["app-contratos-tipos-form"]],outputs:{refresh:"refresh"},standalone:!0,features:[y],decls:24,vars:2,consts:[[3,"formGroup"],[1,"row"],["formControlName","nome","label","Nome","id","nome","tipo","text",1,"col-sm-4"],[1,"col-sm-2"],[1,"form-check"],["type","checkbox","checked","","id","diarias","formControlName","diarias",1,"form-check-input"],["for","diarias",1,"form-check-label"],["type","checkbox","checked","","id","servico","formControlName","servico",1,"form-check-input"],["for","servico",1,"form-check-label"],["type","checkbox","checked","","id","fatura","formControlName","fatura",1,"form-check-input"],["for","fatura",1,"form-check-label"],[1,"d-flex","justify-content-end"],["data-bs-dismiss","modal",1,"btn","btn-link","text-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click","disabled"]],template:function(a,n){a&1&&(e(0,"form",0)(1,"div",1),d(2,"input-text",2),t(),e(3,"div",1)(4,"div",3)(5,"div",4),d(6,"input",5),e(7,"label",6),o(8,"Di\xE1rias"),t()()(),e(9,"div",3)(10,"div",4),d(11,"input",7),e(12,"label",8),o(13,"Servi\xE7o"),t()()(),e(14,"div",3)(15,"div",4),d(16,"input",9),e(17,"label",10),o(18,"Fatura"),t()()()(),e(19,"div",11)(20,"a",12),p("click",function(){return n.form.reset()}),o(21,"Cancelar"),t(),e(22,"button",13),p("click",function(){return n.cadastrar()}),o(23,"Cadastrar"),t()()()),a&2&&(x("formGroup",n.form),l(22),x("disabled",n.form.invalid))},dependencies:[w,M,J,Q,k,A,te,K,U,oe]});let r=s;return r})();function ue(r,s){r&1&&d(0,"i",38)}function fe(r,s){r&1&&d(0,"i",38)}function he(r,s){r&1&&d(0,"i",38)}function _e(r,s){if(r&1){let m=E();e(0,"tr",37)(1,"td"),o(2),t(),e(3,"td"),o(4),t(),e(5,"td"),C(6,ue,1,0,"i",38),t(),e(7,"td"),C(8,fe,1,0,"i",38),t(),e(9,"td"),C(10,he,1,0,"i",38),t(),e(11,"td")(12,"a",39),p("click",function(){let a=u(m).$implicit,n=b(2);return f(n.editar(a))}),d(13,"i",40),t(),e(14,"a",41),p("click",function(){let a=u(m).$implicit,n=b(2);return f(n.delete(a))}),d(15,"i",42),t()()()}if(r&2){let m=s.$implicit;l(2),T(m.id),l(2),T(m.nome),l(2),v(6,m.diarias?6:-1),l(2),v(8,m.servico?8:-1),l(2),v(10,m.fatura?10:-1)}}function Ce(r,s){r&1&&(e(0,"tr")(1,"td",24),o(2,"Sem informa\xE7\xE3o"),t()())}function ve(r,s){if(r&1&&(e(0,"tbody"),L(1,_e,16,5,"tr",37,B,!1,Ce,3,0,"tr"),t()),r&2){b();let m=G(22);l(),P(m.data)}}function be(r,s){if(r&1){let m=E();o(0," Tem certeza que deseja excluir: "),e(1,"b"),o(2),t(),e(3,"div",43)(4,"a",44),o(5,"Cancelar"),t(),e(6,"button",45),p("click",function(){u(m);let a=b();return f(a.confirm())}),o(7," Excluir "),t()()}if(r&2){let m=b();l(2),T(m.excluir.nome)}}var Ie=(()=>{let s=class s{constructor(i,a,n){this.contratosTiposService=i,this.toastr=a,this.sessionService=n,this.quant=10}ngOnInit(){this.sessionService.checkPermission("administrador"),this.subscription=this.contratosTiposService.index().subscribe({next:i=>{this.data$=i,this.temp=i}})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}refresh(){this.contratosTiposService.index().subscribe({next:i=>{this.data$=i}})}editar(i){this.child.editar(i)}delete(i){this.excluir=i}confirm(){this.contratosTiposService.remove(this.excluir.id||0).subscribe({next:i=>{this.toastr.success("Exclus\xE3o realizada com sucesso!"),this.refresh()},error:i=>{this.toastr.error("Erro ao excluir, tente novamente mais tarde!")}})}pesquisar(){if(this.data$=this.temp,this.pesquisa.length>0){var i=this.pesquisa.toLocaleLowerCase();this.data$=this.data$.filter(a=>a.nome.toLocaleLowerCase().indexOf(i)!==-1||!i)}}};s.\u0275fac=function(a){return new(a||s)(h(F),h(V),h(ie))},s.\u0275cmp=g({type:s,selectors:[["app-contratos-tipos"]],viewQuery:function(a,n){if(a&1&&W(j,5),a&2){let c;$(c=z())&&(n.child=c.first)}},standalone:!0,features:[y],decls:70,vars:6,consts:[["mf","mfDataTable"],[1,"content-wrapper"],["titulo","Tipos de Contrato"],[1,"content"],[1,"card"],[1,"card-header","border-0"],[1,"card-title"],["data-bs-toggle","modal","data-bs-target","#modalcad","title","Cadastrar",1,"btn","btn-outline-primary"],[1,"fa","fa-plus"],[1,"card-tools"],[1,"input-group","input-group-sm",2,"width","250px"],[1,"form-control","float-right",2,"width","50px",3,"ngModelChange","ngModel"],["value","10"],["value","25"],["value","50"],["value","100"],["type","text","name","table_search","placeholder","Pesquisar...",1,"form-control","float-right",2,"width","200px",3,"ngModelChange","ngModel"],[1,"card-body","table-responsive","p-1"],[1,"table","table-hover","table-head-fixed","text-nowrap",3,"mfData","mfRowsOnPage"],["by","id"],["by","nome"],["by","diarias"],["by","servico"],["by","fatura"],["colspan","100%"],[2,"display","flex","align-items","center","justify-content","center"],["id","modalcad","aria-hidden","true",1,"modal","fade",2,"display","none"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header","border-0"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[3,"refresh"],["id","modaldel","aria-hidden","true",1,"modal","fade",2,"display","none"],[1,"modal-dialog"],[1,"optionshover"],["aria-hidden","true",1,"fa","fa-check"],["title","Editar","data-bs-toggle","modal","data-bs-target","#modalcad",1,"options","point",3,"click"],["aria-hidden","true",1,"fa","fa-edit","text-primary"],["title","Excluir","data-bs-toggle","modal","data-bs-target","#modaldel",1,"options","point",3,"click"],["aria-hidden","true",1,"fa","fa-trash","text-danger","ml-1"],[1,"d-flex","justify-content-end"],["data-bs-dismiss","modal",1,"btn","btn-link","text-primary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"]],template:function(a,n){if(a&1){let c=E();e(0,"div",1),d(1,"app-title",2),e(2,"section",3)(3,"div",4)(4,"div",5)(5,"h3",6)(6,"button",7),d(7,"i",8),t()(),e(8,"div",9)(9,"div",10)(10,"select",11),I("ngModelChange",function(_){return u(c),N(n.quant,_)||(n.quant=_),f(_)}),e(11,"option",12),o(12,"10"),t(),e(13,"option",13),o(14,"25"),t(),e(15,"option",14),o(16,"50"),t(),e(17,"option",15),o(18,"100"),t()(),e(19,"input",16),I("ngModelChange",function(_){return u(c),N(n.pesquisa,_)||(n.pesquisa=_),f(_)}),p("ngModelChange",function(){return u(c),f(n.pesquisar())}),t()()()(),e(20,"div",17)(21,"table",18,0)(23,"thead")(24,"tr")(25,"th")(26,"mfDefaultSorter",19),o(27,"#"),t()(),e(28,"th")(29,"mfDefaultSorter",20),o(30,"Nome"),t()(),e(31,"th")(32,"mfDefaultSorter",21),o(33,"Di\xE1rias"),t()(),e(34,"th")(35,"mfDefaultSorter",22),o(36,"Servi\xE7o"),t()(),e(37,"th")(38,"mfDefaultSorter",23),o(39,"Fatura"),t()(),e(40,"th"),o(41,"Op\xE7\xF5es"),t()()(),C(42,ve,4,1,"tbody"),e(43,"tfoot")(44,"tr")(45,"td",24)(46,"div",25),d(47,"mfBootstrapPaginator"),t()()()()()()()(),e(48,"div",26)(49,"div",27)(50,"div",28)(51,"div",29)(52,"h4",30),o(53,"Cadastrar"),t(),e(54,"button",31)(55,"span",32),o(56,"\xD7"),t()()(),e(57,"div",33)(58,"app-contratos-tipos-form",34),p("refresh",function(){return u(c),f(n.refresh())}),t()()()()(),e(59,"div",35)(60,"div",36)(61,"div",28)(62,"div",29)(63,"h4",30),o(64,"Excluir"),t(),e(65,"button",31)(66,"span",32),o(67,"\xD7"),t()()(),e(68,"div",33),C(69,be,8,1),t()()()()()}a&2&&(l(10),q("ngModel",n.quant),l(9),q("ngModel",n.pesquisa),l(2),x("mfData",n.data$)("mfRowsOnPage",n.quant),l(21),v(42,n.data$?42:-1),l(27),v(69,n.excluir?69:-1))},dependencies:[w,ne,j,le,re,se,ae,M,Y,Z,R,X,k,H]});let r=s;return r})();export{Ie as ContratosTiposComponent};
