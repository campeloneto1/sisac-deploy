import{a as ee}from"./chunk-JKRXANFS.js";import{a as Z}from"./chunk-P4DI7BWX.js";import{a as W}from"./chunk-ND3MOVSE.js";import{a as X}from"./chunk-DREWBI5U.js";import{a as Y}from"./chunk-KRDV4FRY.js";import{a as J}from"./chunk-I3SZ5FME.js";import"./chunk-HYOWEGV7.js";import{a as K}from"./chunk-3HEW5RTP.js";import{a as Q,b as z}from"./chunk-UKCOEVIY.js";import{a as U}from"./chunk-HDKAZCIU.js";import{$b as L,C as _,Ea as f,F as C,Fa as S,I as y,Mb as P,Oa as i,Pa as l,Qb as w,Ra as I,Rb as B,Tb as q,Vb as O,Wb as G,Xa as T,Ya as k,_ as E,_b as H,ac as V,ca as a,cb as x,da as d,db as F,eb as N,la as h,na as s,pb as A,rb as j,sa as b,sb as R,ta as M,ua as $,va as g,vb as D,wa as e,xa as t,ya as u}from"./chunk-OWJSVT4P.js";var me=Q.url,le="armamentos",te=(()=>{let o=class o{constructor(c){this.http=c}relatorio(c){return this.http.post(`${me}/${le}/relatorio`,c)}};o.\u0275fac=function(p){return new(p||o)(C(D))},o.\u0275prov=_({token:o,factory:o.\u0275fac,providedIn:"root"});let r=o;return r})();function se(r,o){if(r&1&&u(0,"div",25),r&2){let n=S().$implicit;s("innerHTML",n.observacoes,E)}}function ce(r,o){if(r&1&&(e(0,"tr",21)(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td"),i(6),t(),e(7,"td"),i(8),t(),e(9,"td"),i(10),t(),e(11,"td"),i(12),t(),e(13,"td"),i(14),t(),e(15,"td"),i(16),t(),e(17,"td"),i(18),t(),e(19,"td"),i(20),t(),e(21,"td"),i(22),x(23,"date"),t()(),e(24,"tr",22)(25,"td",23)(26,"div",24),h(27,se,1,1,"div",25),t()()()),r&2){let n=o.$implicit;a(2),l(n.id),a(2),I(" ",n.subunidade.abreviatura," - ",n.subunidade.unidade.abreviatura," "),a(2),l(n.armamento_tipo.nome),a(2),l(n.modelo.marca.nome),a(2),l(n.modelo.nome),a(2),l(n.armamento_calibre==null?null:n.armamento_calibre.nome),a(2),l(n.armamento_tamanho==null?null:n.armamento_tamanho.nome),a(2),l(n.serial),a(2),l(n.quantidade),a(2),l(n.quantidade_disponivel),a(2),l(N(23,13,n.data_baixa,"dd/MM/yyyy")),a(5),b(27,n.observacoes?27:-1)}}function pe(r,o){if(r&1&&(e(0,"table",20)(1,"thead")(2,"tr")(3,"th"),i(4,"#"),t(),e(5,"th"),i(6,"Subunidade"),t(),e(7,"th"),i(8,"Tipo"),t(),e(9,"th"),i(10,"Marca"),t(),e(11,"th"),i(12,"Modelo"),t(),e(13,"th"),i(14,"Calibre"),t(),e(15,"th"),i(16,"Tamanho"),t(),e(17,"th"),i(18,"Serial"),t(),e(19,"th"),i(20,"Quantidade"),t(),e(21,"th"),i(22,"Quant. Dispon\xEDvel"),t(),e(23,"th"),i(24,"Data Baixa"),t()()(),e(25,"tbody"),$(26,ce,28,16,null,null,M),x(28,"async"),t()()),r&2){let n=S();a(26),g(F(28,0,n.data$))}}var Ae=(()=>{let o=class o{constructor(c,p,m,v,ie,ae,ne,oe){this.formBuilder=c,this.armamentosRelService=p,this.marcasService=m,this.modelosService=v,this.armamentosTiposService=ie,this.armamentosCalibresService=ae,this.armamentosTamanhosService=ne,this.sessionService=oe}ngOnInit(){this.sessionService.checkPermission("relatorios"),this.form=this.formBuilder.group({marca:[null],modelo:[null],armamento_tipo:[null],armamento_calibre:[null],armamento_tamanho:[null],data_baixa:[null],subunidade:[null]}),this.marcas$=this.marcasService.marcasArmamentos(),this.armamentostipos$=this.armamentosTiposService.index(),this.armamentoscalibres$=this.armamentosCalibresService.index(),this.armamentostamanhos$=this.armamentosTamanhosService.index()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.subscription2&&this.subscription2.unsubscribe()}pesquisar(){this.sessionService.getSubunidade()&&this.form.get("subunidade")?.patchValue(this.sessionService.getSubunidade()),this.data$=this.armamentosRelService.relatorio(this.form.value)}getModelos(){this.modelos$=this.modelosService.whereMarca(this.form.value.marca)}};o.\u0275fac=function(p){return new(p||o)(d(H),d(te),d(Z),d(ee),d(W),d(Y),d(X),d(z))},o.\u0275cmp=y({type:o,selectors:[["app-armamentos-rel"]],standalone:!0,features:[T([U()]),k],decls:26,vars:8,consts:[[1,"content-wrapper"],["titulo","Relat\xF3rio de Armamentos"],[1,"content"],[1,"card"],[1,"card-header","border-0"],[1,"card-title","noprint"],[1,"card-title","print"],[1,"card-body","table-responsive"],[1,"noprint",3,"formGroup"],[1,"row"],["label","Marca","id","marca","formControlName","marca",1,"col-sm-2",3,"ngModelChange","data$"],["label","Modelo","id","modelo","formControlName","modelo",1,"col-sm-2",3,"data$"],["label","Tipo","id","armamento_tipo","formControlName","armamento_tipo",1,"col-sm-2",3,"data$"],["label","Calibre","id","armamento_calibre","formControlName","armamento_calibre",1,"col-sm-2",3,"data$"],["label","Tamanho","id","armamento_tamanho","formControlName","armamento_tamanho",1,"col-sm-2",3,"data$"],[1,"col-sm-2"],[1,"form-check"],["type","checkbox","checked","","id","data_baixa","formControlName","data_baixa",1,"form-check-input"],["for","data_baixa",1,"form-check-label"],["type","button",1,"btn","btn-primary","btn-block",3,"click","disabled"],[1,"table","table-hover","table-head-fixed","text-wrap"],["data-widget","expandable-table","aria-expanded","false"],[1,"expandable-body","d-none"],["colspan","7"],[2,"display","none"],[3,"innerHTML"]],template:function(p,m){p&1&&(e(0,"div",0),u(1,"app-title",1),e(2,"section",2)(3,"div",3)(4,"div",4)(5,"h3",5),i(6,"Filtro"),t(),e(7,"h3",6),i(8,"Relat\xF3rio de Armamentos"),t()(),e(9,"div",7)(10,"form",8)(11,"div",9)(12,"input-select",10),f("ngModelChange",function(){return m.getModelos()}),t(),u(13,"input-select",11)(14,"input-select",12)(15,"input-select",13)(16,"input-select",14),e(17,"div",15)(18,"div",16),u(19,"input",17),e(20,"label",18),i(21,"Data baixa"),t()()()(),e(22,"div")(23,"button",19),f("click",function(){return m.pesquisar()}),i(24," Pesquisar "),t()()(),h(25,pe,29,2,"table",20),t()()()()),p&2&&(a(10),s("formGroup",m.form),a(2),s("data$",m.marcas$),a(),s("data$",m.modelos$),a(),s("data$",m.armamentostipos$),a(),s("data$",m.armamentoscalibres$),a(),s("data$",m.armamentostamanhos$),a(7),s("disabled",m.form.invalid),a(2),b(25,m.data$?25:-1))},dependencies:[R,A,j,K,L,q,P,w,B,V,O,G,J],styles:[".print[_ngcontent-%COMP%]{display:none}@media print{.noprint[_ngcontent-%COMP%]{display:none}.print[_ngcontent-%COMP%]{display:block}}"]});let r=o;return r})();export{Ae as ArmamentosRelComponent};
