import{a as A}from"./chunk-QJUIHWJQ.js";import{a as N,b as U,c as H,d as z}from"./chunk-AICVXWQ6.js";import{a as R}from"./chunk-3HEW5RTP.js";import{b as w}from"./chunk-UKCOEVIY.js";import{a as O,d as j}from"./chunk-HDKAZCIU.js";import{Cb as F,Fa as f,I as D,Na as g,Oa as i,Pa as d,Qa as x,Ra as T,Xa as M,Ya as B,_ as b,ca as a,cb as p,da as E,eb as c,la as u,na as S,ra as I,rb as k,sa as s,sb as P,ta as C,ua as y,va as h,wa as t,xa as e,ya as _}from"./chunk-OWJSVT4P.js";function $(o,r){if(o&1&&(t(0,"li",12)(1,"b"),i(2,"Nome Fantasia"),e(),t(3,"a",13),i(4),e()()),o&2){let n=f(2);a(4),d(n.empresa.nome_fantasia)}}function L(o,r){o&1&&(t(0,"li",17)(1,"a",25),i(2,"Contratos"),e()())}function V(o,r){o&1&&(t(0,"li",17)(1,"a",26),i(2,"Servi\xE7os"),e()())}function G(o,r){if(o&1&&(t(0,"dt",27),i(1,"Telefone 1:"),e(),t(2,"dd",27),i(3),p(4,"mask"),e()),o&2){let n=f(2);a(3),x(" ",c(4,1,n.empresa.telefone1,"(00) 00000-0000")," ")}}function J(o,r){if(o&1&&(t(0,"dt",27),i(1,"Telefone 2:"),e(),t(2,"dd",27),i(3),p(4,"mask"),e()),o&2){let n=f(2);a(3),x(" ",c(4,1,n.empresa.telefone2,"(00) 00000-0000")," ")}}function q(o,r){if(o&1&&(t(0,"dt",27),i(1,"E-mail:"),e(),t(2,"dd",27),i(3),e()),o&2){let n=f(2);a(3),x(" ",n.empresa.email," ")}}function K(o,r){if(o&1&&(t(0,"tr",40)(1,"td"),i(2),e(),t(3,"td"),i(4),e(),t(5,"td"),i(6),e(),t(7,"td"),i(8),e(),t(9,"td"),i(10),p(11,"date"),e(),t(12,"td"),i(13),p(14,"date"),e(),t(15,"td"),i(16),p(17,"mask"),e(),t(18,"td"),i(19),p(20,"mask"),e(),t(21,"td",41)(22,"span"),i(23),e()()(),t(24,"tr",42)(25,"td",43),_(26,"div",44),e()()),o&2){let n=r.$implicit,l=f(3);a(2),d(n.id),a(2),d(n.contrato_objeto.nome),a(2),d(n.numero_contrato),a(2),d(n.numero_sacc),a(2),d(c(11,13,n.data_inicial,"dd/MM/yyyy")),a(3),d(c(14,16,n.data_final,"dd/MM/yyyy")),a(3),x("R$ ",c(17,19,n.valor_global,"separator.2"),""),a(3),x("R$ ",c(20,22,n.valor_usado,"separator.2"),""),a(3),I("badge ",l.returnCorUsado(n),""),a(),x("",l.returnPercentUsado(n),"%"),a(3),S("innerHTML",n.observacoes,b)}}function Q(o,r){if(o&1&&(t(0,"div",23)(1,"table",28,0)(3,"thead")(4,"tr")(5,"th")(6,"mfDefaultSorter",29),i(7,"#"),e()(),t(8,"th")(9,"mfDefaultSorter",30),i(10,"Objeto do Contrato"),e()(),t(11,"th")(12,"mfDefaultSorter",31),i(13,"N\xFAmero do Contrato"),e()(),t(14,"th")(15,"mfDefaultSorter",32),i(16,"N\xFAmero do SACC"),e()(),t(17,"th")(18,"mfDefaultSorter",33),i(19,"Data Inicial"),e()(),t(20,"th")(21,"mfDefaultSorter",34),i(22,"Data Final"),e()(),t(23,"th")(24,"mfDefaultSorter",35),i(25,"Valor Global"),e()(),t(26,"th")(27,"mfDefaultSorter",36),i(28,"Valor Usado"),e()(),t(29,"th")(30,"mfDefaultSorter",37),i(31,"Utiliza\xE7\xE3o"),e()()()(),t(32,"tbody"),y(33,K,27,25,null,null,C),e(),t(35,"tfoot")(36,"tr")(37,"td",38)(38,"div",39),_(39,"mfBootstrapPaginator"),e()()()()()()),o&2){let n=g(2),l=f(2);a(),S("mfData",l.empresa.contratos)("mfRowsOnPage",10)("mfSortBy","id")("mfSortOrder","desc"),a(32),h(n.data)}}function W(o,r){if(o&1&&(t(0,"tr",40)(1,"td"),i(2),e(),t(3,"td"),i(4),e(),t(5,"td"),i(6),p(7,"date"),e(),t(8,"td"),i(9),p(10,"date"),e()(),t(11,"tr",42)(12,"td",43),_(13,"div",44),e()()),o&2){let n=r.$implicit;a(2),d(n.id),a(2),d(n.servico_tipo.nome),a(2),d(c(7,5,n.data_inicial,"dd/MM/yyyy")),a(3),d(c(10,8,n.data_final,"dd/MM/yyyy")),a(4),S("innerHTML",n.observacoes,b)}}function X(o,r){if(o&1&&(t(0,"div",24)(1,"table",28,1)(3,"thead")(4,"tr")(5,"th")(6,"mfDefaultSorter",29),i(7,"#"),e()(),t(8,"th")(9,"mfDefaultSorter",45),i(10,"Tipo do Servi\xE7o"),e()(),t(11,"th")(12,"mfDefaultSorter",33),i(13,"Data Inicial"),e()(),t(14,"th")(15,"mfDefaultSorter",34),i(16,"Data Final"),e()()()(),t(17,"tbody"),y(18,W,14,11,null,null,C),e(),t(20,"tfoot")(21,"tr")(22,"td",38)(23,"div",39),_(24,"mfBootstrapPaginator"),e()()()()()()),o&2){let n=g(2),l=f(2);a(),S("mfData",l.empresa.servicos)("mfRowsOnPage",10)("mfSortBy","id")("mfSortOrder","desc"),a(17),h(n.data)}}function Y(o,r){if(o&1&&(t(0,"section",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"h3",10),i(7),e(),t(8,"ul",11),u(9,$,5,1,"li",12),t(10,"li",12)(11,"b"),i(12,"CNPJ"),e(),t(13,"a",13),i(14),p(15,"mask"),e()(),t(16,"li",12)(17,"b"),i(18,"Subunidade"),e(),t(19,"a",13),i(20),e()()()()()(),t(21,"div",14)(22,"div",8)(23,"div",15)(24,"ul",16)(25,"li",17)(26,"a",18),i(27,"Informa\xE7\xF5es"),e()(),u(28,L,3,0,"li",17)(29,V,3,0,"li",17),e()(),t(30,"div",19)(31,"div",20)(32,"div",21)(33,"div",6)(34,"div",22)(35,"div",6),u(36,G,5,4)(37,J,5,4)(38,q,4,1),e()()()(),u(39,Q,40,4,"div",23)(40,X,25,4,"div",24),e()()()()()()()),o&2){let n=f();a(7),d(n.empresa.nome),a(2),s(9,n.empresa.nome_fantasia?9:-1),a(5),d(c(15,12,n.empresa.cnpj,"00.000.000/0000-00")),a(6),T("",n.empresa.subunidade.abreviatura," - ",n.empresa.subunidade.unidade.abreviatura,""),a(8),s(28,n.user.perfil.contratos?28:-1),a(),s(29,n.user.perfil.servicos?29:-1),a(7),s(36,n.empresa.telefone1?36:-1),a(),s(37,n.empresa.telefone2?37:-1),a(),s(38,n.empresa.email?38:-1),a(),s(39,n.user.perfil.contratos?39:-1),a(),s(40,n.user.perfil.servicos?40:-1)}}var se=(()=>{let r=class r{constructor(l,m,v){this.empresasService=l,this.sessionService=m,this.activatedRoute=v}ngOnInit(){this.user=this.sessionService.getUser(),this.sessionService.checkPermission("empresas"),this.id=this.activatedRoute.snapshot.params.id,this.subscription=this.empresasService.find(this.id).subscribe({next:l=>{l||this.sessionService.redirect(),this.empresa=l}})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}returnPercentUsado(l){var m=l.valor_usado*100/l.valor_global;return m.toFixed(2)}returnCorUsado(l){var m=l.valor_usado*100/l.valor_global,v="";return m<50?v="bg-success":m<70?v="bg-warning":v="bg-danger",v}};r.\u0275fac=function(m){return new(m||r)(E(A),E(w),E(F))},r.\u0275cmp=D({type:r,selectors:[["app-empresa"]],standalone:!0,features:[M([O()]),B],decls:3,vars:1,consts:[["four","mfDataTable"],["five","mfDataTable"],[1,"content-wrapper"],["titulo","Empresa"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-md-3"],[1,"card"],[1,"card-body","box-profile"],[1,"profile-username","text-center"],[1,"list-group","list-group-unbordered","mb-3"],[1,"list-group-item"],[1,"float-right"],[1,"col-md-9"],[1,"card-header","p-2"],[1,"nav","nav-pills"],[1,"nav-item"],["href","#informacoes","data-bs-toggle","tab",1,"nav-link","active"],[1,"card-body"],[1,"tab-content"],["id","informacoes",1,"active","tab-pane"],[1,"col-sm-12"],["id","contratos",1,"tab-pane"],["id","servicos",1,"tab-pane"],["href","#contratos","data-bs-toggle","tab",1,"nav-link"],["href","#servicos","data-bs-toggle","tab",1,"nav-link"],[1,"col-sm-2"],[1,"table","table-hover","table-head-fixed","text-wrap",3,"mfData","mfRowsOnPage","mfSortBy","mfSortOrder"],["by","id"],["by","contrato_objeto.nome"],["by","numero_contrato"],["by","numero_sacc"],["by","data_inicial"],["by","data_final"],["by","valor_global"],["by","valor_usado"],["by","utilizacao"],["colspan","100%"],[2,"display","flex","align-items","center","justify-content","center"],["data-widget","expandable-table","aria-expanded","false"],[1,"text-center"],[1,"expandable-body","d-none"],["colspan","9"],[2,"display","none",3,"innerHTML"],["by","servico_tipo.nome"]],template:function(m,v){m&1&&(t(0,"div",2),_(1,"app-title",3),u(2,Y,41,15,"section",4),e()),m&2&&(a(2),s(2,v.empresa?2:-1))},dependencies:[P,k,R,j,z,N,H,U]});let o=r;return o})();export{se as EmpresaComponent};
