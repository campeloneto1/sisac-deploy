import{a as D}from"./chunk-P4DI7BWX.js";import{h as V}from"./chunk-NFMIVN66.js";import{a as ne,b as oe,c as le,d as se}from"./chunk-AICVXWQ6.js";import{a as re}from"./chunk-HYOWEGV7.js";import{a as ae}from"./chunk-3HEW5RTP.js";import{b as ie}from"./chunk-UKCOEVIY.js";import"./chunk-HDKAZCIU.js";import{$b as T,Ca as y,Ea as p,Fa as C,I as E,Ka as A,La as W,Ma as $,Mb as G,Na as z,Nb as Q,O as u,Oa as r,P as f,Pa as g,Pb as _,Qb as k,Rb as R,Sb as H,Tb as J,Ua as N,Va as q,Vb as K,W as O,Wa as I,Wb as U,Xb as X,Ya as M,Yb as Y,Zb as Z,_b as ee,ac as te,ca as s,da as h,la as b,na as S,sa as x,sb as w,ta as j,ua as B,va as P,wa as e,xa as t,ya as d}from"./chunk-OWJSVT4P.js";var L=(()=>{let l=class l{constructor(i,n,a){this.formBuilder=i,this.marcasService=n,this.toastr=a,this.refresh=new O}ngOnInit(){this.form=this.formBuilder.group({id:[null],nome:[null,_.compose([_.required,_.minLength(5),_.maxLength(100)])],abreviatura:[null,_.compose([_.minLength(2),_.maxLength(5)])],armamento:[null],logistica:[null],transporte:[null]})}cadastrar(){this.form.value.id?this.marcasService.update(this.form.value.id,this.form.value).subscribe({next:i=>{this.toastr.success("Edi\xE7\xE3o realizada com sucesso!"),this.form.reset(),this.refresh.emit()},error:i=>{this.toastr.error("Erro ao cadastrar, tente novamente mais tarde!")}}):this.marcasService.create(this.form.value).subscribe({next:i=>{this.toastr.success("Cadastro realizado com sucesso!"),this.form.reset(),this.refresh.emit()},error:i=>{this.toastr.error("Erro ao cadastrar, tente novamente mais tarde!")}})}editar(i){this.form.patchValue(i)}};l.\u0275fac=function(n){return new(n||l)(h(ee),h(D),h(V))},l.\u0275cmp=E({type:l,selectors:[["app-marcas-form"]],outputs:{refresh:"refresh"},standalone:!0,features:[M],decls:25,vars:2,consts:[[3,"formGroup"],[1,"row"],["formControlName","nome","label","Nome","id","nome","tipo","text",1,"col-sm-4"],["formControlName","abreviatura","label","Abreviatura","id","abreviatura","tipo","text",1,"col-sm-2"],[1,"col-sm-2"],[1,"form-check"],["type","checkbox","checked","","id","armamento","formControlName","armamento",1,"form-check-input"],["for","armamento",1,"form-check-label"],["type","checkbox","checked","","id","logistica","formControlName","logistica",1,"form-check-input"],["for","logistica",1,"form-check-label"],["type","checkbox","checked","","id","transporte","formControlName","transporte",1,"form-check-input"],["for","transporte",1,"form-check-label"],[1,"d-flex","justify-content-end"],["data-bs-dismiss","modal",1,"btn","btn-link","text-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click","disabled"]],template:function(n,a){n&1&&(e(0,"form",0)(1,"div",1),d(2,"input-text",2)(3,"input-text",3),t(),e(4,"div",1)(5,"div",4)(6,"div",5),d(7,"input",6),e(8,"label",7),r(9,"Armamento"),t()()(),e(10,"div",4)(11,"div",5),d(12,"input",8),e(13,"label",9),r(14,"Log\xEDstica"),t()()(),e(15,"div",4)(16,"div",5),d(17,"input",10),e(18,"label",11),r(19,"Transporte"),t()()()(),e(20,"div",12)(21,"a",13),p("click",function(){return a.form.reset()}),r(22,"Cancelar"),t(),e(23,"button",14),p("click",function(){return a.cadastrar()}),r(24,"Cadastrar"),t()()()),n&2&&(S("formGroup",a.form),s(23),S("disabled",a.form.invalid))},dependencies:[w,T,J,G,k,R,te,K,U,re]});let o=l;return o})();function ue(o,l){o&1&&d(0,"i",39)}function fe(o,l){o&1&&d(0,"i",39)}function he(o,l){o&1&&d(0,"i",39)}function _e(o,l){if(o&1){let m=y();e(0,"tr",38)(1,"td"),r(2),t(),e(3,"td"),r(4),t(),e(5,"td"),r(6),t(),e(7,"td"),b(8,ue,1,0,"i",39),t(),e(9,"td"),b(10,fe,1,0,"i",39),t(),e(11,"td"),b(12,he,1,0,"i",39),t(),e(13,"td")(14,"a",40),p("click",function(){let n=u(m).$implicit,a=C(2);return f(a.editar(n))}),d(15,"i",41),t(),e(16,"a",42),p("click",function(){let n=u(m).$implicit,a=C(2);return f(a.delete(n))}),d(17,"i",43),t()()()}if(o&2){let m=l.$implicit;s(2),g(m.id),s(2),g(m.nome),s(2),g(m.abreviatura),s(2),x(8,m.armamento?8:-1),s(2),x(10,m.logistica?10:-1),s(2),x(12,m.transporte?12:-1)}}function ve(o,l){o&1&&(e(0,"tr")(1,"td",25),r(2,"Sem informa\xE7\xE3o"),t()())}function be(o,l){if(o&1&&(e(0,"tbody"),B(1,_e,18,6,"tr",38,j,!1,ve,3,0,"tr"),t()),o&2){C();let m=z(22);s(),P(m.data)}}function xe(o,l){if(o&1){let m=y();r(0," Tem certeza que deseja excluir: "),e(1,"b"),r(2),t(),e(3,"div",44)(4,"a",45),r(5,"Cancelar"),t(),e(6,"button",46),p("click",function(){u(m);let n=C();return f(n.confirm())}),r(7," Excluir "),t()()}if(o&2){let m=C();s(2),g(m.excluir.nome)}}var Ie=(()=>{let l=class l{constructor(i,n,a){this.marcasService=i,this.toastr=n,this.sessionService=a,this.quant=10}ngOnInit(){this.sessionService.checkPermission("administrador"),this.subscription=this.marcasService.index().subscribe({next:i=>{this.data$=i,this.temp=i}})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}refresh(){this.marcasService.index().subscribe({next:i=>{this.data$=i}})}editar(i){this.child.editar(i)}delete(i){this.excluir=i}confirm(){this.marcasService.remove(this.excluir.id||0).subscribe({next:i=>{this.toastr.success("Exclus\xE3o realizada com sucesso!"),this.refresh()},error:i=>{this.toastr.error("Erro ao excluir, tente novamente mais tarde!")}})}pesquisar(){if(this.data$=this.temp,this.pesquisa.length>0){var i=this.pesquisa.toLocaleLowerCase();this.data$=this.data$.filter(n=>n.nome.toLocaleLowerCase().indexOf(i)!==-1||n.abreviatura?.toLocaleLowerCase().indexOf(i)!==-1||!i)}}};l.\u0275fac=function(n){return new(n||l)(h(D),h(V),h(ie))},l.\u0275cmp=E({type:l,selectors:[["app-marcas"]],viewQuery:function(n,a){if(n&1&&A(L,5),n&2){let c;W(c=$())&&(a.child=c.first)}},standalone:!0,features:[M],decls:73,vars:6,consts:[["mf","mfDataTable"],[1,"content-wrapper"],["titulo","Marcas"],[1,"content"],[1,"card"],[1,"card-header","border-0"],[1,"card-title"],["data-bs-toggle","modal","data-bs-target","#modalcad","title","Cadastrar",1,"btn","btn-outline-primary"],[1,"fa","fa-plus"],[1,"card-tools"],[1,"input-group","input-group-sm",2,"width","250px"],[1,"form-control","float-right",2,"width","50px",3,"ngModelChange","ngModel"],["value","10"],["value","25"],["value","50"],["value","100"],["type","text","name","table_search","placeholder","Pesquisar...",1,"form-control","float-right",2,"width","200px",3,"ngModelChange","ngModel"],[1,"card-body","table-responsive","p-1"],[1,"table","table-hover","table-head-fixed","text-nowrap",3,"mfData","mfRowsOnPage"],["by","id"],["by","nome"],["by","abreviatura"],["by","armamento"],["by","transporte"],["by","logistica"],["colspan","100%"],[2,"display","flex","align-items","center","justify-content","center"],["id","modalcad","aria-hidden","true",1,"modal","fade",2,"display","none"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header","border-0"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[3,"refresh"],["id","modaldel","aria-hidden","true",1,"modal","fade",2,"display","none"],[1,"modal-dialog"],[1,"optionshover"],["aria-hidden","true",1,"fa","fa-check"],["title","Editar","data-bs-toggle","modal","data-bs-target","#modalcad",1,"options","point",3,"click"],["aria-hidden","true",1,"fa","fa-edit","text-primary"],["title","Excluir","data-bs-toggle","modal","data-bs-target","#modaldel",1,"options","point",3,"click"],["aria-hidden","true",1,"fa","fa-trash","text-danger","ml-1"],[1,"d-flex","justify-content-end"],["data-bs-dismiss","modal",1,"btn","btn-link","text-primary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"]],template:function(n,a){if(n&1){let c=y();e(0,"div",1),d(1,"app-title",2),e(2,"section",3)(3,"div",4)(4,"div",5)(5,"h3",6)(6,"button",7),d(7,"i",8),t()(),e(8,"div",9)(9,"div",10)(10,"select",11),I("ngModelChange",function(v){return u(c),q(a.quant,v)||(a.quant=v),f(v)}),e(11,"option",12),r(12,"10"),t(),e(13,"option",13),r(14,"25"),t(),e(15,"option",14),r(16,"50"),t(),e(17,"option",15),r(18,"100"),t()(),e(19,"input",16),I("ngModelChange",function(v){return u(c),q(a.pesquisa,v)||(a.pesquisa=v),f(v)}),p("ngModelChange",function(){return u(c),f(a.pesquisar())}),t()()()(),e(20,"div",17)(21,"table",18,0)(23,"thead")(24,"tr")(25,"th")(26,"mfDefaultSorter",19),r(27,"#"),t()(),e(28,"th")(29,"mfDefaultSorter",20),r(30,"Nome"),t()(),e(31,"th")(32,"mfDefaultSorter",21),r(33,"Abreviatura"),t()(),e(34,"th")(35,"mfDefaultSorter",22),r(36,"Armamentos"),t()(),e(37,"th")(38,"mfDefaultSorter",23),r(39,"Log\xEDstica"),t()(),e(40,"th")(41,"mfDefaultSorter",24),r(42,"Transporte"),t()(),e(43,"th"),r(44,"Op\xE7\xF5es"),t()()(),b(45,be,4,1,"tbody"),e(46,"tfoot")(47,"tr")(48,"td",25)(49,"div",26),d(50,"mfBootstrapPaginator"),t()()()()()()()(),e(51,"div",27)(52,"div",28)(53,"div",29)(54,"div",30)(55,"h4",31),r(56,"Cadastrar"),t(),e(57,"button",32)(58,"span",33),r(59,"\xD7"),t()()(),e(60,"div",34)(61,"app-marcas-form",35),p("refresh",function(){return u(c),f(a.refresh())}),t()()()()(),e(62,"div",36)(63,"div",37)(64,"div",29)(65,"div",30)(66,"h4",31),r(67,"Excluir"),t(),e(68,"button",32)(69,"span",33),r(70,"\xD7"),t()()(),e(71,"div",34),b(72,xe,8,1),t()()()()()}n&2&&(s(10),N("ngModel",a.quant),s(9),N("ngModel",a.pesquisa),s(2),S("mfData",a.data$)("mfRowsOnPage",a.quant),s(24),x(45,a.data$?45:-1),s(27),x(72,a.excluir?72:-1))},dependencies:[w,ae,L,se,ne,le,oe,T,Y,Z,Q,X,k,H]});let o=l;return o})();export{Ie as MarcasComponent};
