import{a as X}from"./chunk-TYEARV2A.js";import{a as W}from"./chunk-6NUUBV4I.js";import{a as Q}from"./chunk-GUYPI2KX.js";import{a as J}from"./chunk-I3SZ5FME.js";import"./chunk-HYOWEGV7.js";import{a as K}from"./chunk-3HEW5RTP.js";import{a as H,b as L}from"./chunk-UKCOEVIY.js";import{a as U,d as z}from"./chunk-HDKAZCIU.js";import{$b as q,C,Ea as k,F as E,Fa as h,I as _,Mb as j,Oa as i,Pa as s,Qb as w,Ra as $,Rb as B,Tb as G,Vb as D,Wb as O,Xa as P,Ya as F,_b as A,ac as V,ca as r,cb as u,da as c,db as N,eb as S,la as f,na as p,pb as M,sa as v,sb as R,ta as g,ua as y,va as I,vb as T,wa as e,xa as t,ya as x}from"./chunk-OWJSVT4P.js";var ie=H.url,ne="policiais",Y=(()=>{let o=class o{constructor(d){this.http=d}relatorio(d){return this.http.post(`${ie}/${ne}/relatorio`,d)}};o.\u0275fac=function(m){return new(m||o)(E(T))},o.\u0275prov=C({token:o,factory:o.\u0275fac,providedIn:"root"});let n=o;return n})();function re(n,o){if(n&1&&(i(0),u(1,"mask")),n&2){let a=h().$implicit;s(S(1,1,a.numeral,"00.000"))}}function ae(n,o){if(n&1&&(i(0),u(1,"mask")),n&2){let a=h().$implicit;s(S(1,1,a.telefone1,"(00) 00000-0000"))}}function le(n,o){if(n&1&&(e(0,"tr")(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td"),i(6),t(),e(7,"td"),f(8,re,2,4),t(),e(9,"td"),i(10),t(),e(11,"td"),i(12),t(),e(13,"td"),i(14),u(15,"mask"),t(),e(16,"td"),f(17,ae,2,4),t(),e(18,"td"),i(19),t()()),n&2){let a=o.$implicit;r(2),s(a.id),r(2),$("",a.setor.nome," - ",a.setor.subunidade.abreviatura,""),r(2),s(a.graduacao.nome),r(2),v(8,a.numeral?8:-1),r(2),s(a.nome),r(2),s(a.nome_guerra),r(2),s(S(15,10,a.matricula,"000.000-0-A")),r(3),v(17,a.telefone1?17:-1),r(2),s(a.boletim_transferencia)}}function se(n,o){if(n&1&&(e(0,"table",18)(1,"thead")(2,"tr")(3,"th"),i(4,"#"),t(),e(5,"th"),i(6,"Setor"),t(),e(7,"th"),i(8,"Gradua\xE7\xE3o"),t(),e(9,"th"),i(10,"Numeral"),t(),e(11,"th"),i(12,"Nome"),t(),e(13,"th"),i(14,"Nome Guerra"),t(),e(15,"th"),i(16,"Matr\xEDcula"),t(),e(17,"th"),i(18,"Relefone 1"),t(),e(19,"th"),i(20,"Transfer\xEAncia"),t()()(),e(21,"tbody"),y(22,le,20,13,"tr",null,g),u(24,"async"),t()()),n&2){let a=h();r(22),I(N(24,0,a.data$))}}var Ie=(()=>{let o=class o{constructor(d,m,l,b,Z,ee){this.formBuilder=d,this.policiaisRelService=m,this.graduacoesService=l,this.sexosService=b,this.setoresService=Z,this.sessionService=ee}ngOnInit(){this.sessionService.checkPermission("relatorios"),this.form=this.formBuilder.group({graduacao:[null],setor:[null],sexo:[null],transferido:[null],subunidade:[null]}),this.graduacoes$=this.graduacoesService.index(),this.setores$=this.setoresService.index(),this.sexos$=this.sexosService.index()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.subscription2&&this.subscription2.unsubscribe()}pesquisar(){this.sessionService.getSubunidade()&&this.form.get("subunidade")?.patchValue(this.sessionService.getSubunidade()),this.data$=this.policiaisRelService.relatorio(this.form.value)}};o.\u0275fac=function(m){return new(m||o)(c(A),c(Y),c(Q),c(X),c(W),c(L))},o.\u0275cmp=_({type:o,selectors:[["app-policiais-rel"]],standalone:!0,features:[P([U()]),F],decls:24,vars:6,consts:[[1,"content-wrapper"],["titulo","Relat\xF3rio de Policiais"],[1,"content"],[1,"card"],[1,"card-header","border-0"],[1,"card-title","noprint"],[1,"card-title","print"],[1,"card-body","table-responsive"],[1,"noprint",3,"formGroup"],[1,"row"],["label","Setor","id","setor","formControlName","setor",1,"col-sm-2",3,"data$"],["label","Gradua\xE7\xE3o","id","graduacao","formControlName","graduacao",1,"col-sm-2",3,"data$"],["label","Sexo","id","sexo","formControlName","sexo",1,"col-sm-2",3,"data$"],[1,"col-sm-2"],[1,"form-check"],["type","checkbox","checked","","id","transferido","formControlName","transferido",1,"form-check-input"],["for","transferido",1,"form-check-label"],["type","button",1,"btn","btn-primary","btn-block",3,"click","disabled"],[1,"table","table-hover","table-head-fixed","text-wrap"]],template:function(m,l){m&1&&(e(0,"div",0),x(1,"app-title",1),e(2,"section",2)(3,"div",3)(4,"div",4)(5,"h3",5),i(6,"Filtro"),t(),e(7,"h3",6),i(8,"Relat\xF3rio de Policiais"),t()(),e(9,"div",7)(10,"form",8)(11,"div",9),x(12,"input-select",10)(13,"input-select",11)(14,"input-select",12),e(15,"div",13)(16,"div",14),x(17,"input",15),e(18,"label",16),i(19,"Transferido"),t()()()(),e(20,"div")(21,"button",17),k("click",function(){return l.pesquisar()}),i(22," Pesquisar "),t()()(),f(23,se,25,2,"table",18),t()()()()),m&2&&(r(10),p("formGroup",l.form),r(2),p("data$",l.setores$),r(),p("data$",l.graduacoes$),r(),p("data$",l.sexos$),r(7),p("disabled",l.form.invalid),r(2),v(23,l.data$?23:-1))},dependencies:[R,M,K,q,G,j,w,B,V,D,O,J,z],styles:[".print[_ngcontent-%COMP%]{display:none}@media print{.noprint[_ngcontent-%COMP%]{display:none}.print[_ngcontent-%COMP%]{display:block}}"]});let n=o;return n})();export{Ie as PoliciaisRelComponent};
